\hypertarget{gcaddsnippetsform_8cpp_source}{\section{gcaddsnippetsform.\-cpp}
}

\begin{DoxyCode}
00001 \textcolor{comment}{/* Copyright (c) 2012 - 2013 by William Hallatt.}
00002 \textcolor{comment}{ *}
00003 \textcolor{comment}{ * This file forms part of "XML Mill".}
00004 \textcolor{comment}{ *}
00005 \textcolor{comment}{ * The official website for this project is <http://www.goblincoding.com> and,}
00006 \textcolor{comment}{ * although not compulsory, it would be appreciated if all works of whatever}
00007 \textcolor{comment}{ * nature using this source code (in whole or in part) include a reference to}
00008 \textcolor{comment}{ * this site.}
00009 \textcolor{comment}{ *}
00010 \textcolor{comment}{ * Should you wish to contact me for whatever reason, please do so via:}
00011 \textcolor{comment}{ *}
00012 \textcolor{comment}{ *                 <http://www.goblincoding.com/contact>}
00013 \textcolor{comment}{ *}
00014 \textcolor{comment}{ * This program is free software: you can redistribute it and/or modify it
       under}
00015 \textcolor{comment}{ * the terms of the GNU General Public License as published by the Free
       Software}
00016 \textcolor{comment}{ * Foundation, either version 3 of the License, or (at your option) any later}
00017 \textcolor{comment}{ * version.}
00018 \textcolor{comment}{ *}
00019 \textcolor{comment}{ * This program is distributed in the hope that it will be useful, but WITHOUT}
00020 \textcolor{comment}{ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
       FITNESS}
00021 \textcolor{comment}{ * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
       details.}
00022 \textcolor{comment}{ *}
00023 \textcolor{comment}{ * You should have received a copy of the GNU General Public License along with}
00024 \textcolor{comment}{ * this program (GNUGPL.txt).  If not, see}
00025 \textcolor{comment}{ *}
00026 \textcolor{comment}{ *                    <http://www.gnu.org/licenses/>}
00027 \textcolor{comment}{ */}
00028 
00029 \textcolor{preprocessor}{#include "gcaddsnippetsform.h"}
00030 \textcolor{preprocessor}{#include "ui\_gcaddsnippetsform.h"}
00031 \textcolor{preprocessor}{#include "db/gcdatabaseinterface.h"}
00032 \textcolor{preprocessor}{#include "utils/gccombobox.h"}
00033 \textcolor{preprocessor}{#include "utils/gcmessagespace.h"}
00034 \textcolor{preprocessor}{#include "utils/gcglobalspace.h"}
00035 \textcolor{preprocessor}{#include "utils/gctreewidgetitem.h"}
00036 
00037 \textcolor{preprocessor}{#include <QCheckBox>}
00038 \textcolor{preprocessor}{#include <QMessageBox>}
00039 
00040 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00041 
00042 \textcolor{keyword}{const} \textcolor{keywordtype}{int} LABELCOLUMN = 0;
00043 \textcolor{keyword}{const} \textcolor{keywordtype}{int} COMBOCOLUMN = 1;
00044 \textcolor{keyword}{const} \textcolor{keywordtype}{int} INCRCOLUMN  = 2;
00045 
00046 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00047 
\hypertarget{gcaddsnippetsform_8cpp_source_l00048}{}\hyperlink{class_g_c_add_snippets_form_af1cfc60ffd8ac6b25f1d1a2dc49e311b}{00048} \hyperlink{class_g_c_add_snippets_form_af1cfc60ffd8ac6b25f1d1a2dc49e311b}{GCAddSnippetsForm::GCAddSnippetsForm}( \textcolor{keyword}{const} QString &elementName, 
      \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *parentItem, QWidget *parent ) :
00049   QDialog            ( parent ),
00050   ui                 ( new Ui::\hyperlink{class_g_c_add_snippets_form}{GCAddSnippetsForm} ),
00051   m\_parentItem       ( parentItem ),
00052   m\_treeItemActivated( false )
00053 \{
00054   ui->setupUi( \textcolor{keyword}{this} );
00055   ui->tableWidget->setFont( QFont( \hyperlink{namespace_g_c_global_space_a9d7158c8a1dfcc867d85ee6b9c5c4810}{GCGlobalSpace::FONT}, \hyperlink{namespace_g_c_global_space_ab9fa2f10bab070a4f59b7e3ef9166c86}{GCGlobalSpace::FONTSIZE}
       ) );
00056   ui->tableWidget->horizontalHeader()->setFont( QFont( \hyperlink{namespace_g_c_global_space_a9d7158c8a1dfcc867d85ee6b9c5c4810}{GCGlobalSpace::FONT}, 
      \hyperlink{namespace_g_c_global_space_ab9fa2f10bab070a4f59b7e3ef9166c86}{GCGlobalSpace::FONTSIZE} ) );
00057 
00058   ui->tableWidget->setColumnWidth( INCRCOLUMN, 40 );  \textcolor{comment}{// restricted for
       checkbox}
00059   ui->treeWidget->setColumnWidth ( 0, 50 );           \textcolor{comment}{// restricted for
       checkbox}
00060   ui->showHelpButton->setVisible( \hyperlink{namespace_g_c_global_space_a981753e55f0f77f981f67ccb1ad4ecf1}{GCGlobalSpace::showHelpButtons}() );
00061 
00062   ui->treeWidget->populateFromDatabase( elementName );
00063   ui->treeWidget->setAllCheckStates( Qt::Checked );
00064   elementSelected( ui->treeWidget->gcCurrentItem(), 0 );
00065 
00066   connect( ui->closeButton,    SIGNAL( clicked() ), \textcolor{keyword}{this}, SLOT( close() ) );
00067   connect( ui->addButton,      SIGNAL( clicked() ), \textcolor{keyword}{this}, SLOT( addSnippet() ) 
      );
00068   connect( ui->showHelpButton, SIGNAL( clicked() ), \textcolor{keyword}{this}, SLOT( showHelp() ) );
00069   connect( ui->tableWidget,    SIGNAL( itemChanged( QTableWidgetItem* ) ), \textcolor{keyword}{this}
      , SLOT( attributeChanged( QTableWidgetItem* ) ) );
00070   connect( ui->treeWidget,     SIGNAL( gcCurrentItemSelected( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem}*
      ,\textcolor{keywordtype}{int},\textcolor{keywordtype}{bool} ) ), \textcolor{keyword}{this}, SLOT( elementSelected( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem}*, \textcolor{keywordtype}{int} ) ) );
00071 
00072   setAttribute( Qt::WA\_DeleteOnClose );
00073 \}
00074 
00075 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00076 
\hypertarget{gcaddsnippetsform_8cpp_source_l00077}{}\hyperlink{class_g_c_add_snippets_form_a3a56853da9df0a69b7dfc0de3c762d9e}{00077} \hyperlink{class_g_c_add_snippets_form_a3a56853da9df0a69b7dfc0de3c762d9e}{GCAddSnippetsForm::~GCAddSnippetsForm}()
00078 \{
00079   \textcolor{keyword}{delete} ui;
00080 \}
00081 
00082 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00083 
00084 \textcolor{keywordtype}{void} GCAddSnippetsForm::elementSelected( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item, \textcolor{keywordtype}{int} column )
00085 \{
00086   Q\_UNUSED( column );
00087 
00088   \textcolor{keywordflow}{if}( item )
00089   \{
00090     m\_treeItemActivated = \textcolor{keyword}{true};
00091 
00092     ui->tableWidget->clearContents();   \textcolor{comment}{// also deletes current items}
00093     ui->tableWidget->setRowCount( 0 );
00094 
00095     \textcolor{comment}{/* Populate the table widget with the attributes and values associated with
       the element selected. */}
00096     QString elementName = item->\hyperlink{class_g_c_tree_widget_item_a3af8c66a690cd55986a38b996a375ba4}{name}();
00097     QStringList attributeNames = \hyperlink{class_g_c_data_base_interface_a1baea9c0667aa8b610ec30076fcab84c}{GCDataBaseInterface::instance}()->\hyperlink{class_g_c_data_base_interface_afb1e49e08f98ca453f9ac66340a35642}{attributes}( 
      elementName );
00098 
00099     \textcolor{comment}{/* Create and add the "increment" checkbox to the first column of the table
       widget, add all the}
00100 \textcolor{comment}{    known attribute names to the cells in the second column of the table
       widget, create and populate}
00101 \textcolor{comment}{    combo boxes with the values associated with the attributes in question and
       insert the combo boxes}
00102 \textcolor{comment}{    into the third column of the table widget. */}
00103     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < attributeNames.count(); ++i )
00104     \{
00105       ui->tableWidget->setRowCount( i + 1 );
00106 
00107       QCheckBox *checkBox = \textcolor{keyword}{new} QCheckBox;
00108 
00109       \textcolor{comment}{/* Overrides main style sheet. */}
00110       checkBox->setStyleSheet( \textcolor{stringliteral}{"QCheckBox\{ padding-right: 1px; \}"}
00111                                \textcolor{stringliteral}{"QCheckBox::indicator\{ subcontrol-position:
       center; width: 15px; height: 15px; \}"} );
00112 
00113       ui->tableWidget->setCellWidget( i, INCRCOLUMN, checkBox );
00114       connect( checkBox, SIGNAL( clicked() ), \textcolor{keyword}{this}, SLOT( attributeValueChanged
      () ) );
00115 
00116       QDomAttr attribute = item->\hyperlink{class_g_c_tree_widget_item_a584cad866bdbd94710d31eb77b804d84}{element}().attributeNode( attributeNames.at( i 
      ) ).toAttr();
00117       checkBox->setChecked( item->\hyperlink{class_g_c_tree_widget_item_af0b5f0f5449f402c90e5ab7ff74acc77}{incrementAttribute}( attribute.name() ) );
00118 
00119       \textcolor{comment}{/* Items are editable by default, disable this option. */}
00120       QTableWidgetItem *label = \textcolor{keyword}{new} QTableWidgetItem( attributeNames.at( i ) );
00121       label->setFlags( Qt::ItemIsEnabled | Qt::ItemIsSelectable | 
      Qt::ItemIsUserCheckable );
00122       ui->tableWidget->setItem( i, LABELCOLUMN, label );
00123 
00124       \hyperlink{class_g_c_combo_box}{GCComboBox} *attributeCombo = \textcolor{keyword}{new} \hyperlink{class_g_c_combo_box}{GCComboBox};
00125       attributeCombo->addItems( \hyperlink{class_g_c_data_base_interface_a1baea9c0667aa8b610ec30076fcab84c}{GCDataBaseInterface::instance}()->
      attributeValues( elementName, attributeNames.at( i ) ) );
00126       attributeCombo->setEditable( \textcolor{keyword}{true} );
00127       attributeCombo->setCurrentIndex( attributeCombo->findText( item->\hyperlink{class_g_c_tree_widget_item_a584cad866bdbd94710d31eb77b804d84}{element}(
      ).attribute( attributeNames.at( i ) ) ) );
00128 
00129       connect( attributeCombo, SIGNAL( currentIndexChanged( QString ) ), \textcolor{keyword}{this}, 
      SLOT( attributeValueChanged() ) );
00130 
00131       \textcolor{keywordflow}{if}( item->\hyperlink{class_g_c_tree_widget_item_a91d71330acb400242d45b6d74c7e0f87}{attributeIncluded}( attributeNames.at( i ) ) )
00132       \{
00133         label->setCheckState( Qt::Checked );
00134         attributeCombo->setEnabled( \textcolor{keyword}{true} );
00135       \}
00136       \textcolor{keywordflow}{else}
00137       \{
00138         label->setCheckState( Qt::Unchecked );
00139         attributeCombo->setEnabled( \textcolor{keyword}{false} );
00140       \}
00141 
00142       ui->tableWidget->setCellWidget( i, COMBOCOLUMN, attributeCombo );
00143 
00144       \textcolor{keywordflow}{if}( item->checkState( 0 ) == Qt::Unchecked )
00145       \{
00146         ui->tableWidget->setEnabled( \textcolor{keyword}{false} );
00147       \}
00148       \textcolor{keywordflow}{else}
00149       \{
00150         ui->tableWidget->setEnabled( \textcolor{keyword}{true} );
00151       \}
00152     \}
00153 
00154     updateCheckStates( item );
00155 
00156     ui->tableWidget->horizontalHeader()->setSectionResizeMode( LABELCOLUMN, 
      QHeaderView::Stretch );
00157     ui->tableWidget->horizontalHeader()->setSectionResizeMode( COMBOCOLUMN, 
      QHeaderView::Stretch );
00158     ui->tableWidget->horizontalHeader()->setSectionResizeMode( INCRCOLUMN,  
      QHeaderView::Fixed );
00159 
00160     m\_treeItemActivated = \textcolor{keyword}{false};
00161   \}
00162 \}
00163 
00164 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00165 
00166 \textcolor{keywordtype}{void} GCAddSnippetsForm::attributeChanged( QTableWidgetItem *item )\textcolor{keyword}{ const}
00167 \textcolor{keyword}{}\{
00168   \textcolor{keywordflow}{if}( !m\_treeItemActivated )
00169   \{
00170     \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *treeItem = ui->treeWidget->gcCurrentItem();
00171     \hyperlink{class_g_c_combo_box}{GCComboBox} *attributeValueCombo = \textcolor{keyword}{dynamic\_cast<} \hyperlink{class_g_c_combo_box}{GCComboBox}* \textcolor{keyword}{>}( ui->
      tableWidget->cellWidget( item->row(), COMBOCOLUMN ) );
00172     QCheckBox *checkBox = \textcolor{keyword}{dynamic\_cast<} QCheckBox* \textcolor{keyword}{>}( ui->tableWidget->
      cellWidget( item->row(), INCRCOLUMN ) );
00173 
00174     \textcolor{keywordflow}{if}( item->checkState() == Qt::Checked )
00175     \{
00176       attributeValueCombo->setEnabled( \textcolor{keyword}{true} );
00177       checkBox->setEnabled( \textcolor{keyword}{true} );
00178       treeItem->\hyperlink{class_g_c_tree_widget_item_a3f1c09758031e2a8fc1ac9336697b3d9}{includeAttribute}( item->text(), attributeValueCombo->
      currentText() );
00179     \}
00180     \textcolor{keywordflow}{else}
00181     \{
00182       attributeValueCombo->setEnabled( \textcolor{keyword}{false} );
00183       checkBox->setEnabled( \textcolor{keyword}{false} );
00184       treeItem->\hyperlink{class_g_c_tree_widget_item_a76e60292eec635fd2e6df27a3e162e16}{excludeAttribute}( item->text() );
00185     \}
00186   \}
00187 \}
00188 
00189 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00190 
00191 \textcolor{keywordtype}{void} GCAddSnippetsForm::attributeValueChanged()\textcolor{keyword}{ const}
00192 \textcolor{keyword}{}\{
00193   \textcolor{comment}{/* Update the element's attribute inclusions, values and value increment
       flags. */}
00194   \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *treeItem = ui->treeWidget->gcCurrentItem();
00195   QDomNamedNodeMap attributes = treeItem->\hyperlink{class_g_c_tree_widget_item_a584cad866bdbd94710d31eb77b804d84}{element}().attributes();
00196 
00197   \textcolor{comment}{/* The table doesn't know which attributes are included or excluded and
       contains}
00198 \textcolor{comment}{    rows corresponding to all the attributes associated with the element. We
       only}
00199 \textcolor{comment}{    wish to act on attributes currently included. */}
00200   \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < attributes.size(); ++i )
00201   \{
00202     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} j = 0; j < ui->tableWidget->rowCount(); ++j )
00203     \{
00204       QString attributeName = ui->tableWidget->item( j, LABELCOLUMN )->text();
00205 
00206       \textcolor{keywordflow}{if}( attributeName == attributes.item( i ).nodeName() )
00207       \{
00208         QCheckBox *checkBox = \textcolor{keyword}{dynamic\_cast<} QCheckBox* \textcolor{keyword}{>}( ui->tableWidget->
      cellWidget( j, INCRCOLUMN ) );
00209         \hyperlink{class_g_c_combo_box}{GCComboBox} *comboBox = \textcolor{keyword}{dynamic\_cast<} \hyperlink{class_g_c_combo_box}{GCComboBox}* \textcolor{keyword}{>}( ui->tableWidget->
      cellWidget( j, COMBOCOLUMN ) );
00210         QString attributeValue = comboBox->currentText();
00211 
00212         \textcolor{keywordflow}{if}( treeItem->\hyperlink{class_g_c_tree_widget_item_a91d71330acb400242d45b6d74c7e0f87}{attributeIncluded}( attributeName ) )
00213         \{
00214           treeItem->\hyperlink{class_g_c_tree_widget_item_a3f1c09758031e2a8fc1ac9336697b3d9}{includeAttribute}( attributeName, attributeValue );
00215         \}
00216 
00217         treeItem->\hyperlink{class_g_c_tree_widget_item_abf57de97998e38563dc9020cdf4d8340}{setIncrementAttribute}( attributeName, checkBox->isChecked() )
      ;
00218       \}
00219     \}
00220   \}
00221 \}
00222 
00223 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00224 
00225 \textcolor{keywordtype}{void} GCAddSnippetsForm::addSnippet()
00226 \{
00227   QList< GCTreeWidgetItem* > includedItems;
00228   ui->treeWidget->getIncludedTreeWidgetItems( includedItems );
00229 
00230   \textcolor{comment}{/* Add the required number of snippets. */}
00231   \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < ui->spinBox->value(); ++i )
00232   \{
00233     \textcolor{comment}{/* Update all the included elements and attribute values. */}
00234     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} j = 0; j < includedItems.size(); ++j )
00235     \{
00236       \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem}* localItem = includedItems.at( j );
00237 
00238       \textcolor{comment}{/* Sets a "restore point" so that we may increment attribute values and
       return}
00239 \textcolor{comment}{        to the previously fixed values (to avoid incrementing an incremented
       value). */}
00240       localItem->\hyperlink{class_g_c_tree_widget_item_ada99ae07bebffd9714be294cdd3d920b}{fixAttributeValues}();
00241 
00242       QString elementName = localItem->\hyperlink{class_g_c_tree_widget_item_a584cad866bdbd94710d31eb77b804d84}{element}().tagName();
00243       QDomNamedNodeMap attributes = localItem->\hyperlink{class_g_c_tree_widget_item_a584cad866bdbd94710d31eb77b804d84}{element}().attributes();
00244 
00245       \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} k = 0; k < attributes.size(); ++k )
00246       \{
00247         QDomAttr attr = attributes.item( k ).toAttr();
00248         QString attributeValue = localItem->\hyperlink{class_g_c_tree_widget_item_a62a31fad1e50915f6df144e23394abef}{fixedValue}( attr.name() );
00249 
00250         \textcolor{keywordflow}{if}( localItem->\hyperlink{class_g_c_tree_widget_item_af0b5f0f5449f402c90e5ab7ff74acc77}{incrementAttribute}( attr.name() ) )
00251         \{
00252           \textcolor{comment}{/* Check if this is a number (if it contains any non-digit
       character). */}
00253           \textcolor{keywordflow}{if}( !attributeValue.contains( QRegExp( \textcolor{stringliteral}{"\(\backslash\)\(\backslash\)D+"} ) ) )
00254           \{
00255             \textcolor{keywordtype}{bool} ok( \textcolor{keyword}{false} );
00256             \textcolor{keywordtype}{int} intValue = attributeValue.toInt( &ok );
00257 
00258             \textcolor{keywordflow}{if}( ok )
00259             \{
00260               intValue += i;
00261               attributeValue = QString( \textcolor{stringliteral}{"%1"} ).arg( intValue );
00262             \}
00263           \}
00264           \textcolor{keywordflow}{else}
00265           \{
00266             \textcolor{comment}{/* If the value contains some string characters, it's a string
       value and that's all}
00267 \textcolor{comment}{              there is to it (it's not our responsibility to check that someone
       isn't incrementing}
00268 \textcolor{comment}{              "false", e.g.). */}
00269             attributeValue += QString( \textcolor{stringliteral}{"%1"} ).arg( i );
00270           \}
00271 
00272           localItem->\hyperlink{class_g_c_tree_widget_item_a584cad866bdbd94710d31eb77b804d84}{element}().setAttribute( attr.name(), attributeValue );
00273         \}
00274 
00275         \textcolor{comment}{/* This call does nothing if the attribute value already exists. */}
00276         \hyperlink{class_g_c_data_base_interface_a1baea9c0667aa8b610ec30076fcab84c}{GCDataBaseInterface::instance}()->\hyperlink{class_g_c_data_base_interface_ae4f158875b5a8a109d301f19ce5d21ae}{updateAttributeValues}( elementName, 
      attr.name(), QStringList( attributeValue ) );
00277       \}      
00278     \}
00279 
00280     emit \hyperlink{class_g_c_add_snippets_form_ae911d230e14e1473223a6f2b087febef}{snippetAdded}( m\_parentItem, ui->treeWidget->cloneDocument().toElement(
      ) );
00281 
00282     \textcolor{comment}{/* Restore values. */}
00283     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} j = 0; j < includedItems.size(); ++j )
00284     \{
00285       includedItems.at( j )->revertToFixedValues();
00286     \}
00287   \}
00288 \}
00289 
00290 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00291 
00292 \textcolor{keywordtype}{void} GCAddSnippetsForm::updateCheckStates( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item )\textcolor{keyword}{ const}
00293 \textcolor{keyword}{}\{
00294   \textcolor{comment}{/* Checking or unchecking an item must recursively update its children as
       well. */}
00295   \textcolor{keywordflow}{if}( item->checkState( 0 ) == Qt::Checked )
00296   \{
00297     item->\hyperlink{class_g_c_tree_widget_item_a4c1932884c3e7c0da8be9e2582e02f41}{setExcludeElement}( \textcolor{keyword}{false} );
00298 
00299     \textcolor{comment}{/* When a low-level child is activated, we need to also update its parent
       tree all the way}
00300 \textcolor{comment}{      up to the root element since including a child automatically implies that
       the parent}
00301 \textcolor{comment}{      element is included. */}
00302     \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *parent = item->\hyperlink{class_g_c_tree_widget_item_a1125dbc55a8ba3e50662b8258cb35fdf}{gcParent}();
00303 
00304     \textcolor{keywordflow}{while}( parent && ( parent->checkState( 0 ) != Qt::Checked ) )
00305     \{
00306       parent->\hyperlink{class_g_c_tree_widget_item_a4c1932884c3e7c0da8be9e2582e02f41}{setExcludeElement}( \textcolor{keyword}{false} );
00307       parent->setCheckState( 0, Qt::Checked );
00308       parent = parent->\hyperlink{class_g_c_tree_widget_item_a1125dbc55a8ba3e50662b8258cb35fdf}{gcParent}();
00309     \}
00310   \}
00311   \textcolor{keywordflow}{else}
00312   \{
00313     item->\hyperlink{class_g_c_tree_widget_item_a4c1932884c3e7c0da8be9e2582e02f41}{setExcludeElement}( \textcolor{keyword}{true} );
00314 
00315     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < item->childCount(); ++i )
00316     \{
00317       item->child( i )->setCheckState( 0, item->checkState( 0 ) );
00318       updateCheckStates( item->\hyperlink{class_g_c_tree_widget_item_af44c0d2c5eaa1c5bb3a6a1aace3e8c78}{gcChild}( i ) );
00319     \}
00320   \}
00321 \}
00322 
00323 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
00324 
00325 \textcolor{keywordtype}{void} GCAddSnippetsForm::showHelp()
00326 \{
00327   QMessageBox::information( \textcolor{keyword}{this},
00328                             \textcolor{stringliteral}{"How this works..."},
00329                             \textcolor{stringliteral}{"Use this form to create XML snippets with the
       default values "}
00330                             \textcolor{stringliteral}{"you specify. \(\backslash\)n\(\backslash\)n"}
00331                             \textcolor{stringliteral}{"Unchecking an element will exclude it (and all of
       its children) from "}
00332                             \textcolor{stringliteral}{"the snippet (similarly, check attributes that you
       want to be included in "}
00333                             \textcolor{stringliteral}{"your snippet(s)). \(\backslash\)n\(\backslash\)n"}
00334                             \textcolor{stringliteral}{"If you tick the \(\backslash\)"Incr\(\backslash\)" (increment) option next
       to an attribute value, then the "}
00335                             \textcolor{stringliteral}{"value you provided will be incremented with \(\backslash\)"1\(\backslash\)"
       for however many "}
00336                             \textcolor{stringliteral}{"snippets you generate. \(\backslash\)n\(\backslash\)n"}
00337                             \textcolor{stringliteral}{"For example, if you specify \(\backslash\)"10\(\backslash\)" as an attribute
       value, then the "}
00338                             \textcolor{stringliteral}{"first snippet will assign \(\backslash\)"10\(\backslash\)" to the attribute
       in question, "}
00339                             \textcolor{stringliteral}{"the second will have \(\backslash\)"11\(\backslash\)", the third, \(\backslash\)"12\(\backslash\)",
       etc. \(\backslash\)n\(\backslash\)n"}
00340                             \textcolor{stringliteral}{"Strings will have the incremented value appended
       to the name (\(\backslash\)"true\(\backslash\)" "}
00341                             \textcolor{stringliteral}{"and \(\backslash\)"false\(\backslash\)" values are treated as strings, so be
       careful)."} );
00342 \}
00343 
00344 \textcolor{comment}{/*
      --------------------------------------------------------------------------------------*/}
\end{DoxyCode}
