\hypertarget{gcmainwindow_8h_source}{\section{gcmainwindow.\-h}
}

\begin{DoxyCode}
00001 \textcolor{comment}{/* Copyright (c) 2012 - 2013 by William Hallatt.}
00002 \textcolor{comment}{ *}
00003 \textcolor{comment}{ * This file forms part of "XML Mill".}
00004 \textcolor{comment}{ *}
00005 \textcolor{comment}{ * The official website for this project is <http://www.goblincoding.com> and,}
00006 \textcolor{comment}{ * although not compulsory, it would be appreciated if all works of whatever}
00007 \textcolor{comment}{ * nature using this source code (in whole or in part) include a reference to}
00008 \textcolor{comment}{ * this site.}
00009 \textcolor{comment}{ *}
00010 \textcolor{comment}{ * Should you wish to contact me for whatever reason, please do so via:}
00011 \textcolor{comment}{ *}
00012 \textcolor{comment}{ *                 <http://www.goblincoding.com/contact>}
00013 \textcolor{comment}{ *}
00014 \textcolor{comment}{ * This program is free software: you can redistribute it and/or modify it
       under}
00015 \textcolor{comment}{ * the terms of the GNU General Public License as published by the Free
       Software}
00016 \textcolor{comment}{ * Foundation, either version 3 of the License, or (at your option) any later}
00017 \textcolor{comment}{ * version.}
00018 \textcolor{comment}{ *}
00019 \textcolor{comment}{ * This program is distributed in the hope that it will be useful, but WITHOUT}
00020 \textcolor{comment}{ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
       FITNESS}
00021 \textcolor{comment}{ * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
       details.}
00022 \textcolor{comment}{ *}
00023 \textcolor{comment}{ * You should have received a copy of the GNU General Public License along with}
00024 \textcolor{comment}{ * this program (GNUGPL.txt).  If not, see}
00025 \textcolor{comment}{ *}
00026 \textcolor{comment}{ *                    <http://www.gnu.org/licenses/>}
00027 \textcolor{comment}{ */}
00028 
00029 \textcolor{preprocessor}{#ifndef GCMAINWINDOW\_H}
00030 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GCMAINWINDOW\_H}
00031 \textcolor{preprocessor}{}
00032 \textcolor{preprocessor}{#include <QMainWindow>}
00033 \textcolor{preprocessor}{#include <QHash>}
00034 \textcolor{preprocessor}{#include <QDomElement>}
00035 
00036 \textcolor{keyword}{namespace }Ui
00037 \{
00038   \textcolor{keyword}{class }\hyperlink{class_g_c_main_window}{GCMainWindow};
00039 \}
00040 
00041 \textcolor{keyword}{class }\hyperlink{class_g_c_d_b_session_manager}{GCDBSessionManager};
00042 \textcolor{keyword}{class }\hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem};
00043 \textcolor{keyword}{class }QSignalMapper;
00044 \textcolor{keyword}{class }QTableWidgetItem;
00045 \textcolor{keyword}{class }QComboBox;
00046 \textcolor{keyword}{class }QTimer;
00047 \textcolor{keyword}{class }QLabel;
00048 \textcolor{keyword}{class }QMovie;
00049 
00073 
00074 
\hypertarget{gcmainwindow_8h_source_l00082}{}\hyperlink{class_g_c_main_window}{00082} \textcolor{keyword}{class }\hyperlink{class_g_c_main_window}{GCMainWindow} : \textcolor{keyword}{public} QMainWindow
00083 \{
00084   Q\_OBJECT
00085   
00086 \textcolor{keyword}{public}:
00088   \textcolor{keyword}{explicit} \hyperlink{class_g_c_main_window_ab20de5f22439fbb8baf7d6b4be2ef63e}{GCMainWindow}( QWidget *parent = 0 );
00089 
00091   \hyperlink{class_g_c_main_window_a1b9394727a4790a926fae15973f9e629}{~GCMainWindow}();
00092 
00093 \textcolor{keyword}{protected}:
00096   \textcolor{keywordtype}{void} \hyperlink{class_g_c_main_window_a08995f775bad0ea2ff98965ede9c2967}{closeEvent}( QCloseEvent * event );
00097 
00098 \textcolor{keyword}{private} slots:
00102   \textcolor{keywordtype}{void} initialise();
00103 
00106   \textcolor{keywordtype}{void} elementChanged( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item, \textcolor{keywordtype}{int} column );
00107 
00114   \textcolor{keywordtype}{void} elementSelected( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item, \textcolor{keywordtype}{int} column, \textcolor{keywordtype}{bool} 
      highlightElement = \textcolor{keyword}{true} );
00115 
00125   \textcolor{keywordtype}{void} attributeChanged( QTableWidgetItem *tableItem );
00126 
00133   \textcolor{keywordtype}{void} attributeSelected( QTableWidgetItem *tableItem );
00134 
00144   \textcolor{keywordtype}{void} attributeValueChanged( \textcolor{keyword}{const} QString &value );
00145 
00154   \textcolor{keywordtype}{void} setCurrentComboBox( QWidget *combo );
00155 
00162   \textcolor{keywordtype}{bool} openXMLFile();
00163 
00170   \textcolor{keywordtype}{void} newXMLFile();
00171 
00180   \textcolor{keywordtype}{bool} saveXMLFile();
00181 
00190   \textcolor{keywordtype}{bool} saveXMLFileAs();
00191 
00198   \textcolor{keywordtype}{void} closeXMLFile();
00199 
00203   \textcolor{keywordtype}{void} saveTempFile();
00204 
00211   \textcolor{keywordtype}{void} importXMLFromFile();
00212 
00218   \textcolor{keywordtype}{void} addNewDatabase();
00219 
00225   \textcolor{keywordtype}{void} addExistingDatabase();
00226 
00232   \textcolor{keywordtype}{void} removeDatabase();
00233 
00239   \textcolor{keywordtype}{void} switchActiveDatabase();
00240 
00246   \textcolor{keywordtype}{void} activeDatabaseChanged( QString dbName );
00247 
00255   \textcolor{keywordtype}{void} addElementToDocument();
00256 
00262   \textcolor{keywordtype}{void} addSnippetToDocument();
00263 
00268   \textcolor{keywordtype}{void} insertSnippet( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *treeItem, QDomElement element );
00269 
00273   \textcolor{keywordtype}{void} removeItemsFromDB();
00274 
00278   \textcolor{keywordtype}{void} addItemsToDB();
00279 
00283   \textcolor{keywordtype}{void} searchDocument();
00284 
00287   \textcolor{keywordtype}{void} itemFound( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item );
00288 
00292   \textcolor{keywordtype}{void} commentOut( \textcolor{keyword}{const} QList< int > &indices, \textcolor{keyword}{const} QString &comment );
00293 
00296   \textcolor{keywordtype}{void} rebuild();
00297 
00300   \textcolor{keywordtype}{void} updateComment( \textcolor{keyword}{const} QString &comment );
00301 
00304   \textcolor{keywordtype}{void} collapseOrExpandTreeWidget( \textcolor{keywordtype}{bool} checked );
00305 
00307   \textcolor{keywordtype}{void} uncheckExpandAll();
00308 
00311   \textcolor{keywordtype}{void} forgetMessagePreferences();
00312 
00316   \textcolor{keywordtype}{void} createSpinner();
00317 
00320   \textcolor{keywordtype}{void} resetDOM();
00321 
00324   \textcolor{keywordtype}{void} showEmptyProfileHelp();
00325 
00327   \textcolor{keywordtype}{void} showElementHelp();
00328 
00330   \textcolor{keywordtype}{void} showMainHelp();
00331 
00333   \textcolor{keywordtype}{void} setShowHelpButtons( \textcolor{keywordtype}{bool} show );
00334 
00336   \textcolor{keywordtype}{void} setShowTreeItemsVerbose( \textcolor{keywordtype}{bool} verbose );
00337 
00339   \textcolor{keywordtype}{void} goToSite();
00340 
00342   \textcolor{keywordtype}{void} useDarkTheme( \textcolor{keywordtype}{bool} dark );
00343   
00344 \textcolor{keyword}{private}:
00347   \hyperlink{class_g_c_d_b_session_manager}{GCDBSessionManager} *createDBSessionManager();
00348 
00351   \textcolor{keywordtype}{void} processDOMDoc();
00352 
00354   \textcolor{keywordtype}{void} setStatusBarMessage( \textcolor{keyword}{const} QString &message );
00355 
00358   \textcolor{keywordtype}{void} setTextEditContent( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item = 0 );
00359 
00362   \textcolor{keywordtype}{void} highlightTextElement( \hyperlink{class_g_c_tree_widget_item}{GCTreeWidgetItem} *item );
00363 
00366   \textcolor{keywordtype}{void} insertEmptyTableRow();
00367 
00369   \textcolor{keywordtype}{void} resetTableWidget();
00370 
00372   \textcolor{keywordtype}{void} startSaveTimer();
00373 
00376   \textcolor{keywordtype}{void} toggleAddElementWidgets();
00377 
00381   \textcolor{keywordtype}{void} querySetActiveSession( QString reason );
00382 
00385   \textcolor{keywordtype}{void} readSettings();
00386 
00389   \textcolor{keywordtype}{void} saveSettings();
00390 
00394   \textcolor{keywordtype}{bool} queryResetDOM( \textcolor{keyword}{const} QString &resetReason );
00395 
00398   \textcolor{keywordtype}{bool} importXMLToDatabase();
00399 
00402   \textcolor{keywordtype}{void} deleteSpinner();
00403 
00409   \textcolor{keywordtype}{void} queryRestoreFiles();
00410 
00414   \textcolor{keywordtype}{void} deleteTempFile();
00415 
00416   Ui::GCMainWindow *ui;
00417   QSignalMapper    *m\_signalMapper;
00418   QTableWidgetItem *m\_activeAttribute;
00419   QWidget          *m\_currentCombo;
00420   QTimer           *m\_saveTimer;
00421   QLabel           *m\_activeProfileLabel;
00422   QLabel           *m\_progressLabel;
00423   QMovie           *m\_spinner;
00424   QString           m\_currentXMLFileName;
00425   QString           m\_activeAttributeName;
00426   \textcolor{keywordtype}{bool}              m\_wasTreeItemActivated;
00427   \textcolor{keywordtype}{bool}              m\_newAttributeAdded;
00428   \textcolor{keywordtype}{bool}              m\_busyImporting;
00429   \textcolor{keywordtype}{bool}              m\_fileContentsChanged;
00430 
00431   QHash< QWidget*, \textcolor{keywordtype}{int}\textcolor{comment}{/* table row*/} > m\_comboBoxes;
00432 
00433 \};
00434 
00435 \textcolor{preprocessor}{#endif // GCMAINWINDOW\_H}
\end{DoxyCode}
